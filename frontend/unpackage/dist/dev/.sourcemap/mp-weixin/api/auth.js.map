{"version":3,"file":"auth.js","sources":["api/auth.js"],"sourcesContent":["/**\r\n * 认证相关的API服务\r\n */\r\nimport request from '@/utils/request';\r\n\r\n/**\r\n * 用户登录\r\n * @param {Object} data 登录信息\r\n * @returns {Promise} 登录结果\r\n */\r\nexport function login(data) {\r\n  return request.post('/auth/login', data);\r\n}\r\n\r\n/**\r\n * 用户注册\r\n * @param {Object} data 注册信息\r\n * @returns {Promise} 注册结果\r\n */\r\nexport function register(data) {\r\n  return request.post('/user/register', data);\r\n}\r\n\r\n/**\r\n * 保存登录信息到本地存储\r\n * @param {Object} loginData 登录返回的数据\r\n */\r\nexport function saveLoginInfo(loginData) {\r\n  // 保存令牌\r\n  uni.setStorageSync('token', loginData.token);\r\n  // 保存用户信息\r\n  uni.setStorageSync('userInfo', loginData.user);\r\n}\r\n\r\n/**\r\n * 获取当前登录用户信息\r\n * @returns {Object|null} 用户信息或null\r\n */\r\nexport function getUserInfo() {\r\n  return uni.getStorageSync('userInfo') || null;\r\n}\r\n\r\n/**\r\n * 是否已登录\r\n * @returns {Boolean} 是否已登录\r\n */\r\nexport function isLoggedIn() {\r\n  return !!uni.getStorageSync('token');\r\n}\r\n\r\n/**\r\n * 退出登录\r\n */\r\nexport function logout() {\r\n  // 清除本地存储\r\n  uni.removeStorageSync('token');\r\n  uni.removeStorageSync('userInfo');\r\n  \r\n  // 跳转到登录页\r\n  uni.reLaunch({\r\n    url: '/pages/login/login'\r\n  });\r\n} "],"names":["request","uni"],"mappings":";;;AAUO,SAAS,MAAM,MAAM;AAC1B,SAAOA,sBAAQ,KAAK,eAAe,IAAI;AACzC;AAOO,SAAS,SAAS,MAAM;AAC7B,SAAOA,sBAAQ,KAAK,kBAAkB,IAAI;AAC5C;AAMO,SAAS,cAAc,WAAW;AAEvCC,gBAAAA,MAAI,eAAe,SAAS,UAAU,KAAK;AAE3CA,gBAAAA,MAAI,eAAe,YAAY,UAAU,IAAI;AAC/C;AAMO,SAAS,cAAc;AAC5B,SAAOA,oBAAI,eAAe,UAAU,KAAK;AAC3C;AAMO,SAAS,aAAa;AAC3B,SAAO,CAAC,CAACA,cAAAA,MAAI,eAAe,OAAO;AACrC;AAKO,SAAS,SAAS;AAEvBA,sBAAI,kBAAkB,OAAO;AAC7BA,sBAAI,kBAAkB,UAAU;AAGhCA,gBAAAA,MAAI,SAAS;AAAA,IACX,KAAK;AAAA,EACT,CAAG;AACH;;;;;;;"}