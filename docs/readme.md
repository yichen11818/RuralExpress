# 乡递通(RuralExpress)

乡递通是一款专为解决乡村地区快递配送"最后一公里"问题设计的微信小程序。通过连接兼职快递员与用户，提升乡村快递服务的覆盖率和效率。

## 项目背景

随着电子商务在乡村地区的普及，快递需求不断增长，但由于地理分散、人口密度低等因素，传统快递配送模式在乡村地区面临着成本高、效率低的挑战。乡递通旨在通过共享经济模式，招募当地村民成为兼职快递员，解决这一难题。

## 功能特点

- **用户管理**：用户注册、登录、个人信息管理、实名认证
- **兼职快递员管理**：快递员申请与审核、任务接单、路线规划、收益结算
- **快递订单管理**：快递下单、订单追踪、异常处理
- **支付与结算**：集成微信支付、多种支付方式、安全交易保障
- **评价反馈**：用户评价、快递员互评、投诉处理
- **数据分析**：订单分析、用户行为分析、绩效评估

## 技术架构

- **前端**：UniApp + Vue.js 3 + TypeScript
- **后端**：Java Spring Boot
- **数据库**：MySQL + Redis
- **部署**：Docker容器化

## 项目文档

- [项目设置指南](./project-setup.md)
- [开发计划](./development-plan.md)
- [数据库设计](./database-design.md)
- [技术栈选型](./tech-stack.md)

## 开始使用

### 环境要求

- Node.js v16+
- JDK 11+
- MySQL 8.0
- Redis

### 前端启动

```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 后端启动

```bash
# 进入后端目录
cd backend

# 构建项目
mvn clean package

# 启动服务
java -jar target/rural-express.jar
```

## 贡献指南

欢迎贡献代码或提出建议！请遵循以下步骤：

1. Fork 项目
2. 创建特性分支：`git checkout -b feature/your-feature-name`
3. 提交更改：`git commit -m 'Add some feature'`
4. 推送分支：`git push origin feature/your-feature-name`
5. 提交Pull Request

## 许可证

[MIT License](./LICENSE)

## 系统架构图

```
                  ┌─────────────┐
                  │    用户     │
                  └──────┬──────┘
                         │
                         ▼
┌──────────────────────────────────────────┐
│             微信小程序前端               │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  │
│  │  用户端  │  │ 快递员端 │  │ 管理员端 │  │
│  └─────────┘  └─────────┘  └─────────┘  │
└──────────────────┬───────────────────────┘
                   │
                   ▼
┌──────────────────────────────────────────┐
│               API网关层                  │
│  ┌─────────────────────────────────────┐ │
│  │          权限认证 & 请求路由         │ │
│  └─────────────────────────────────────┘ │
└──────────────────┬───────────────────────┘
                   │
                   ▼
┌──────────────────────────────────────────┐
│             业务服务层                   │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  │
│  │ 用户服务 │  │ 订单服务 │  │ 支付服务 │  │
│  └─────────┘  └─────────┘  └─────────┘  │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  │
│  │快递员服务│  │服务点服务│  │ 统计服务 │  │
│  └─────────┘  └─────────┘  └─────────┘  │
└──────────────────┬───────────────────────┘
                   │
                   ▼
┌──────────────────────────────────────────┐
│             数据持久层                   │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  │
│  │  MySQL  │  │  Redis  │  │文件存储服务│ │
│  └─────────┘  └─────────┘  └─────────┘  │
└──────────────────────────────────────────┘
```

## 目录结构说明

```
RuralExpress/
├── frontend/                 # 前端项目目录
│   ├── components/           # 公共组件
│   │   ├── common/           # 通用组件
│   │   ├── business/         # 业务组件
│   │   └── ...
│   ├── pages/                # 页面文件
│   │   ├── index/            # 首页
│   │   ├── user/             # 用户相关页面
│   │   ├── delivery/         # 快递相关页面
│   │   ├── order/            # 订单相关页面
│   │   ├── courier/          # 快递员相关页面
│   │   ├── admin/            # 管理员页面
│   │   └── ...
│   ├── static/               # 静态资源
│   │   ├── images/           # 图片资源
│   │   ├── styles/           # 全局样式
│   │   └── ...
│   ├── store/                # 状态管理
│   ├── utils/                # 工具函数
│   │   ├── request.js        # 网络请求
│   │   ├── auth.js           # 认证相关
│   │   ├── date.js           # 日期处理
│   │   └── ...
│   ├── App.vue               # 应用入口
│   ├── main.js               # 主入口文件
│   ├── pages.json            # 页面配置
│   └── manifest.json         # 应用配置
│
├── backend/                  # 后端项目目录
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/ruralexpress/
│   │   │   │   ├── config/       # 配置类
│   │   │   │   ├── controller/   # 控制器
│   │   │   │   │   ├── admin/    # 管理员控制器
│   │   │   │   │   └── ...
│   │   │   │   ├── dto/          # 数据传输对象
│   │   │   │   ├── entity/       # 实体类
│   │   │   │   ├── mapper/       # MyBatis接口
│   │   │   │   ├── service/      # 服务接口
│   │   │   │   │   ├── impl/     # 服务实现类
│   │   │   │   │   └── ...
│   │   │   │   ├── utils/        # 工具类
│   │   │   │   └── RuralExpressApplication.java
│   │   │   └── resources/
│   │   │       ├── mapper/       # MyBatis XML文件
│   │   │       ├── static/       # 静态资源
│   │   │       ├── db/           # 数据库脚本
│   │   │       └── application.yml # 应用配置
│   │   └── test/                 # 测试代码
│   └── pom.xml                   # Maven配置
│
└── docs/                     # 项目文档
    ├── database-design.md    # 数据库设计
    ├── development-plan.md   # 开发计划
    ├── tech-stack.md         # 技术栈说明
    └── ...
```

## 开发规范

### 代码风格
- 前端代码遵循Vue风格指南：https://cn.vuejs.org/style-guide/
- 后端代码遵循阿里巴巴Java开发手册：https://github.com/alibaba/p3c

### 命名规范
- 文件夹：小写字母，多个单词用连字符（kebab-case）
- Vue组件：PascalCase或kebab-case
- Java类：PascalCase
- 方法和变量：camelCase
- 常量：UPPER_SNAKE_CASE

### Git提交规范
提交信息格式：`<type>: <description>`

类型（type）:
- feat: 新功能
- fix: 修复bug
- docs: 文档变更
- style: 代码格式（不影响代码运行的变动）
- refactor: 重构（既不是新增功能，也不是修改bug的代码变动）
- perf: 性能优化
- test: 增加测试
- chore: 构建过程或辅助工具的变动

例如：`feat: 添加用户注册功能`

### API设计规范
- URL使用复数名词，如`/api/users`，`/api/orders`
- 使用HTTP方法表示操作：
  - GET：获取资源
  - POST：创建资源
  - PUT：更新资源
  - DELETE：删除资源
- HTTP状态码：
  - 200: 成功
  - 201: 创建成功
  - 400: 请求错误
  - 401: 未授权
  - 403: 禁止访问
  - 404: 资源不存在
  - 500: 服务器错误

## 常见问题

模拟支付：
会创建支付记录
返回模拟的支付参数
提供支付状态查询